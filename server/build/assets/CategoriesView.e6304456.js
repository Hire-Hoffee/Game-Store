import{C as u}from"./CategoryCard.0021276a.js";import{G as p}from"./GameCard.3c9e2099.js";import{_,m as h,r as n,o as s,a as t,d as y,w as f,f as G,t as C,F as i,b as c,g as k,c as d,e as x,h as V}from"./index.12b3a04b.js";const $={name:"CategoriesView",components:{CategoryCard:u,GameCard:p},data(){return{categories:null,foundGames:null}},computed:h("isLoadingModule",["getLoadingStatus"]),methods:{async searchGamesOnGenres(e){try{this.foundGames=(await this.$API.mainServices.searchGamesOnGenres(e)).data}catch(o){this.$store.commit("alertInfoModule/updateError",o)}}},async mounted(){try{this.categories=(await this.$API.mainServices.getAllCategories()).data,this.$route.query.genre&&this.searchGamesOnGenres(this.$route.query.genre)}catch(e){this.$store.commit("alertInfoModule/updateError",e)}},beforeRouteUpdate(e,o){if(e.query.genre){this.searchGamesOnGenres(e.query.genre);return}this.foundGames=null}},v={key:0},w={key:0,class:"grid xl:grid-cols-5 md:grid-cols-4 sm:grid-cols-3 grid-cols-2 gap-y-4 gap-x-4 md:gap-x-0 grid_games_cards justify-items-center"},S={key:1,class:"grid xl:grid-cols-5 md:grid-cols-4 sm:grid-cols-3 grid-cols-2 gap-y-4 gap-x-4 md:gap-x-0 grid_games_cards justify-items-center"},q={key:1,class:"flex justify-center m-5"},N=x("img",{src:V,class:"animate-spin",alt:"spinner"},null,-1),A=[N];function B(e,o,I,L,a,O){const m=n("ParagraphHeader"),g=n("CategoryCard"),l=n("GameCard");return e.getLoadingStatus?(s(),t("div",q,A)):(s(),t("div",v,[y(m,null,{default:f(()=>[G(C(e.$route.query.genre?`${e.$route.query.genre} games`:"All categories"),1)]),_:1}),a.foundGames?(s(),t("div",S,[(s(!0),t(i,null,c(a.foundGames,r=>(s(),d(l,{class:"xl:w-52 lg:w-44","game-title":r.gameTitle,"game-poster":r.poster,"game-price":r.price,key:r.id},null,8,["game-title","game-poster","game-price"]))),128))])):(s(),t("div",w,[a.categories?(s(!0),t(i,{key:0},c(a.categories,r=>(s(),d(g,{"category-name":r.genreName,"category-SVG":r.genreSVG,key:r.id},null,8,["category-name","category-SVG"]))),128)):k("",!0)]))]))}var M=_($,[["render",B]]);export{M as default};
