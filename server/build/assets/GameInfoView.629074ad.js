import{i as X,$ as q,n as L,S as z,a as F,N as U}from"./navigation.min.cb018d3b.js";import{_ as j,r as P,o as a,a as _,d as w,w as c,F as G,b as D,c as k,e as t,t as f,m as H,f as g,g as V,D as Y,C as J,A as K,E as Q,G as $,H as Z,I as ee,h as te}from"./index.a60cd40e.js";function se(m){let{swiper:e,extendParams:i,on:y}=m;i({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let r=!1,I=!1;e.thumbs={swiper:null};function l(){const n=e.thumbs.swiper;if(!n||n.destroyed)return;const s=n.clickedIndex,x=n.clickedSlide;if(x&&q(x).hasClass(e.params.thumbs.slideThumbActiveClass)||typeof s=="undefined"||s===null)return;let b;if(n.params.loop?b=parseInt(q(n.clickedSlide).attr("data-swiper-slide-index"),10):b=s,e.params.loop){let v=e.activeIndex;e.slides.eq(v).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,v=e.activeIndex);const p=e.slides.eq(v).prevAll(`[data-swiper-slide-index="${b}"]`).eq(0).index(),M=e.slides.eq(v).nextAll(`[data-swiper-slide-index="${b}"]`).eq(0).index();typeof p=="undefined"?b=M:typeof M=="undefined"?b=p:M-v<v-p?b=M:b=p}e.slideTo(b)}function T(){const{thumbs:n}=e.params;if(r)return!1;r=!0;const s=e.constructor;if(n.swiper instanceof s)e.thumbs.swiper=n.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(X(n.swiper)){const x=Object.assign({},n.swiper);Object.assign(x,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new s(x),I=!0}return e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",l),!0}function u(n){const s=e.thumbs.swiper;if(!s||s.destroyed)return;const x=s.params.slidesPerView==="auto"?s.slidesPerViewDynamic():s.params.slidesPerView,b=e.params.thumbs.autoScrollOffset,v=b&&!s.params.loop;if(e.realIndex!==s.realIndex||v){let h=s.activeIndex,d,E;if(s.params.loop){s.slides.eq(h).hasClass(s.params.slideDuplicateClass)&&(s.loopFix(),s._clientLeft=s.$wrapperEl[0].clientLeft,h=s.activeIndex);const o=s.slides.eq(h).prevAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index(),R=s.slides.eq(h).nextAll(`[data-swiper-slide-index="${e.realIndex}"]`).eq(0).index();typeof o=="undefined"?d=R:typeof R=="undefined"?d=o:R-h===h-o?d=s.params.slidesPerGroup>1?R:h:R-h<h-o?d=R:d=o,E=e.activeIndex>e.previousIndex?"next":"prev"}else d=e.realIndex,E=d>e.previousIndex?"next":"prev";v&&(d+=E==="next"?b:-1*b),s.visibleSlidesIndexes&&s.visibleSlidesIndexes.indexOf(d)<0&&(s.params.centeredSlides?d>h?d=d-Math.floor(x/2)+1:d=d+Math.floor(x/2)-1:d>h&&s.params.slidesPerGroup,s.slideTo(d,n?0:void 0))}let p=1;const M=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(p=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(p=1),p=Math.floor(p),s.slides.removeClass(M),s.params.loop||s.params.virtual&&s.params.virtual.enabled)for(let h=0;h<p;h+=1)s.$wrapperEl.children(`[data-swiper-slide-index="${e.realIndex+h}"]`).addClass(M);else for(let h=0;h<p;h+=1)s.slides.eq(e.realIndex+h).addClass(M)}y("beforeInit",()=>{const{thumbs:n}=e.params;!n||!n.swiper||(T(),u(!0))}),y("slideChange update resize observerUpdate",()=>{u()}),y("setTransition",(n,s)=>{const x=e.thumbs.swiper;!x||x.destroyed||x.setTransition(s)}),y("beforeDestroy",()=>{const n=e.thumbs.swiper;!n||n.destroyed||I&&n.destroy()}),Object.assign(e.thumbs,{init:T,update:u})}function ie(m){let{swiper:e,extendParams:i,emit:y,once:r}=m;i({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function I(){const u=e.getTranslate();e.setTranslate(u),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function l(){const{touchEventsData:u,touches:n}=e;u.velocities.length===0&&u.velocities.push({position:n[e.isHorizontal()?"startX":"startY"],time:u.touchStartTime}),u.velocities.push({position:n[e.isHorizontal()?"currentX":"currentY"],time:L()})}function T(u){let{currentPos:n}=u;const{params:s,$wrapperEl:x,rtlTranslate:b,snapGrid:v,touchEventsData:p}=e,h=L()-p.touchStartTime;if(n<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(n>-e.maxTranslate()){e.slides.length<v.length?e.slideTo(v.length-1):e.slideTo(e.slides.length-1);return}if(s.freeMode.momentum){if(p.velocities.length>1){const S=p.velocities.pop(),C=p.velocities.pop(),W=S.position-C.position,N=S.time-C.time;e.velocity=W/N,e.velocity/=2,Math.abs(e.velocity)<s.freeMode.minimumVelocity&&(e.velocity=0),(N>150||L()-S.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=s.freeMode.momentumVelocityRatio,p.velocities.length=0;let d=1e3*s.freeMode.momentumRatio;const E=e.velocity*d;let o=e.translate+E;b&&(o=-o);let R=!1,A;const B=Math.abs(e.velocity)*20*s.freeMode.momentumBounceRatio;let O;if(o<e.maxTranslate())s.freeMode.momentumBounce?(o+e.maxTranslate()<-B&&(o=e.maxTranslate()-B),A=e.maxTranslate(),R=!0,p.allowMomentumBounce=!0):o=e.maxTranslate(),s.loop&&s.centeredSlides&&(O=!0);else if(o>e.minTranslate())s.freeMode.momentumBounce?(o-e.minTranslate()>B&&(o=e.minTranslate()+B),A=e.minTranslate(),R=!0,p.allowMomentumBounce=!0):o=e.minTranslate(),s.loop&&s.centeredSlides&&(O=!0);else if(s.freeMode.sticky){let S;for(let C=0;C<v.length;C+=1)if(v[C]>-o){S=C;break}Math.abs(v[S]-o)<Math.abs(v[S-1]-o)||e.swipeDirection==="next"?o=v[S]:o=v[S-1],o=-o}if(O&&r("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(b?d=Math.abs((-o-e.translate)/e.velocity):d=Math.abs((o-e.translate)/e.velocity),s.freeMode.sticky){const S=Math.abs((b?-o:o)-e.translate),C=e.slidesSizesGrid[e.activeIndex];S<C?d=s.speed:S<2*C?d=s.speed*1.5:d=s.speed*2.5}}else if(s.freeMode.sticky){e.slideToClosest();return}s.freeMode.momentumBounce&&R?(e.updateProgress(A),e.setTransition(d),e.setTranslate(o),e.transitionStart(!0,e.swipeDirection),e.animating=!0,x.transitionEnd(()=>{!e||e.destroyed||!p.allowMomentumBounce||(y("momentumBounce"),e.setTransition(s.speed),setTimeout(()=>{e.setTranslate(A),x.transitionEnd(()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(y("_freeModeNoMomentumRelease"),e.updateProgress(o),e.setTransition(d),e.setTranslate(o),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,x.transitionEnd(()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(o),e.updateActiveIndex(),e.updateSlidesClasses()}else if(s.freeMode.sticky){e.slideToClosest();return}else s.freeMode&&y("_freeModeNoMomentumRelease");(!s.freeMode.momentum||h>=s.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:I,onTouchMove:l,onTouchEnd:T}})}const ne={components:{Swiper:z,SwiperSlide:F},props:["gameData"],data(){return{thumbsSwiper:null,slidesPerView:5}},methods:{setThumbsSwiper(m){this.thumbsSwiper=m},handleView(){this.slidesPerView=window.innerWidth<=640?4:5}},created(){this.handleView(),window.addEventListener("resize",this.handleView)},setup(){return{modules:[ie,U,se]}}},oe={class:"w-full h-64 sm:h-80 lg:h-112 flex flex-col space-y-4 rounded overflow-hidden"},ae=["src"],le=["src"];function re(m,e,i,y,r,I){const l=P("SwiperSlide"),T=P("Swiper");return a(),_("div",oe,[w(T,{spaceBetween:10,thumbs:{swiper:r.thumbsSwiper},modules:y.modules,class:"mySwiper2 w-full h-5/6"},{default:c(()=>[(a(!0),_(G,null,D(i.gameData,u=>(a(),k(l,{key:u.id},{default:c(()=>[t("img",{class:"w-full h-full rounded-lg object-cover",src:u.image},null,8,ae)]),_:2},1024))),128))]),_:1},8,["thumbs","modules"]),w(T,{onSwiper:I.setThumbsSwiper,spaceBetween:10,slidesPerView:r.slidesPerView,freeMode:!0,watchSlidesProgress:!0,navigation:!0,modules:y.modules,class:"mySwiper w-full h-1/6 custom_swiper"},{default:c(()=>[(a(!0),_(G,null,D(i.gameData,u=>(a(),k(l,{key:u.id},{default:c(()=>[t("img",{class:"w-full h-full rounded-lg object-cover",src:u.image},null,8,le)]),_:2},1024))),128))]),_:1},8,["onSwiper","slidesPerView","modules"])])}var de=j(ne,[["render",re]]);const ce={props:["userEmail","userReview","userRating","userRole"]},me={class:"w-80 min-h-[24rem] p-3 rounded custom_shadow_out m-2"},ue={class:"mb-5 text-xl"},fe={class:"mb-2"},_e={class:"mb-2 text-custom-red"},he={class:"mb-2 text-custom-red ml-3"},pe=t("hr",{class:"h-px bg-custom-red border-none"},null,-1);function we(m,e,i,y,r,I){return a(),_("div",me,[t("div",ue,[t("h1",fe,f(i.userEmail),1),t("span",_e,f(i.userRating?`${i.userRating} / 10`:"Not rated"),1),t("span",he,"( "+f(i.userRole)+" )",1),pe]),t("div",null,[t("p",null,f(i.userReview),1)])])}var ge=j(ce,[["render",we]]);const ve={components:{Swiper:z,SwiperSlide:F,ReviewCard:ge},props:["reviewsData"],setup(){return{modules:[U]}},data(){return{slidesPerView:this.reviewsData.length<3?this.reviewsData.length:3}},methods:{handleView(){this.slidesPerView=window.innerWidth<=768?1:window.innerWidth>=768&&window.innerWidth<=1024&&this.slidesPerView==2?2:this.slidesPerView}},created(){this.handleView(),window.addEventListener("resize",this.handleView)}};function xe(m,e,i,y,r,I){const l=P("ReviewCard"),T=P("SwiperSlide"),u=P("Swiper");return a(),k(u,{class:"flex items-center custom_swiper",slidesPerView:r.slidesPerView,"space-between":10,loop:!0,navigation:!0,modules:y.modules},{default:c(()=>[(a(!0),_(G,null,D(i.reviewsData,n=>(a(),k(T,{class:"flex justify-center"},{default:c(()=>[w(l,{"user-email":n.customer.email,"user-role":n.customer.role,"user-review":n.content,"user-rating":n.gameRating.rating},null,8,["user-email","user-role","user-review","user-rating"])]),_:2},1024))),256))]),_:1},8,["slidesPerView","modules"])}var be=j(ve,[["render",xe]]);const ye={emits:["addToCartEmit","postReviewEmit"],components:{GameImagesSlider:de,ReviewsSlider:be},data(){return{reviewContent:"",userGameRating:5,chosenPlatform:this.gameInfo.platforms[0].id}},props:["gameInfo"],computed:H("authModule",["getUserRole"])},Ie={class:"p-5 rounded custom_shadow_out"},Se={class:"flex flex-col-reverse md:flex-row justify-between md:space-x-14 font-bold mb-28"},Te={class:"md:w-7/12"},Re={class:"md:w-5/12 flex flex-col space-y-4 justify-between mb-16 md:mb-0"},Ce={class:"rounded overflow-hidden"},Pe=["src","alt"],Me={class:"flex justify-between text-center lg:text-2xl text-lg"},ke={class:"p-2 w-1/3 rounded inner_shadow_custom"},Ee=g("Coming soon"),Ve={class:"lg:text-xl text-lg"},Ge={class:"flex justify-between mb-1 lg:mb-3"},De=t("div",null,"User rating",-1),je={class:"font-normal"},Ae=t("img",{class:"inline mr-3",src:$,alt:"rating_star"},null,-1),Be={key:0,class:"flex justify-between mb-1 lg:mb-3"},Oe=t("div",null,"Metacritic",-1),Le={class:"font-normal"},Ne=t("img",{class:"inline mr-3",src:$,alt:"rating_star"},null,-1),qe={class:"flex justify-between mb-1 lg:mb-3"},ze=t("div",null,"Release date",-1),Fe={class:"font-normal"},Ue={class:"flex justify-between mb-1 lg:mb-3"},He=t("div",null,"Developer",-1),$e={class:"font-normal"},We={class:"flex justify-between"},Xe=t("div",null,"Platforms",-1),Ye={class:"font-normal"},Je=["src","alt","onClick"],Ke={key:1,class:"text-xl"},Qe={class:"mb-28"},Ze=g("Description"),et={class:"text-lg mb-2 font-normal"},tt={key:0},st={key:1,class:"text-xl"},it={class:"mb-28"},nt=g("Genres"),ot={class:"text-xl font-bold flex space-x-4"},at={key:1,class:"text-xl"},lt={class:"mb-28"},rt=g("Specifications"),dt={key:0,class:"text-2xl flex space-x-10"},ct={key:0,class:"flex text-base"},mt=t("h1",{class:"text-2xl mb-5 text-custom-red"},"Minimum",-1),ut={class:"mb-5"},ft=g("OS"),_t={class:"mb-5"},ht=g("Processor"),pt={class:"mb-5"},wt=g("Memory"),gt={class:"mb-5"},vt=g("Storage"),xt={class:"mb-5"},bt=g("Graphics"),yt={key:1,class:"flex text-base"},It=t("h1",{class:"text-2xl mb-5 text-custom-red"},"Recommended",-1),St={class:"mb-5"},Tt=g("OS"),Rt={class:"mb-5"},Ct=g("Processor"),Pt={class:"mb-5"},Mt=g("Memory"),kt={class:"mb-5"},Et=g("Storage"),Vt={class:"mb-5"},Gt=g("Graphics"),Dt={key:1},jt=t("p",{class:"text-xl"},"To be announced or unknown",-1),At=[jt],Bt={class:"mb-28"},Ot=g("Reviews"),Lt={key:1},Nt=t("h1",{class:"text-2xl"},"Reviews not found",-1),qt=[Nt],zt=g("Post review"),Ft={class:"w-11/12 m-auto"},Ut={class:"flex md:w-1/2 w-full p-3 my-10 rounded-lg shadow-custom-inner"},Ht=t("h1",{class:"text-2xl w-1/5"},"Rating",-1),$t={class:"flex w-4/5 justify-around"},Wt=t("img",{src:Z,alt:"minus"},null,-1),Xt=[Wt],Yt={class:"text-2xl"},Jt=t("img",{src:ee,alt:"plus"},null,-1),Kt=[Jt],Qt={class:"flex justify-center"},Zt={class:"flex justify-end mt-5"},es=g("Post");function ts(m,e,i,y,r,I){const l=P("ParagraphHeader"),T=P("GameImagesSlider"),u=P("CustomBtn"),n=P("ReviewsSlider");return a(),_("div",Ie,[w(l,{class:"uppercase"},{default:c(()=>[g(f(i.gameInfo.gameTitle),1)]),_:1}),t("div",Se,[t("div",Te,[i.gameInfo?(a(),k(T,{key:0,"game-data":i.gameInfo.images},null,8,["game-data"])):V("",!0)]),t("div",Re,[t("div",Ce,[t("img",{class:"w-full lg:h-52 h-40 object-cover",src:i.gameInfo.poster,alt:i.gameInfo.gameTitle},null,8,Pe)]),t("div",Me,[t("div",ke,[t("strong",null,f(i.gameInfo.price?`${i.gameInfo.price} $`:"-"),1)]),i.gameInfo.price?(a(),k(u,{key:0,onClick:e[0]||(e[0]=s=>m.getUserRole?m.$emit("addToCartEmit",{gameId:i.gameInfo.id,chosenPlatform:r.chosenPlatform}):!1),class:"text-white uppercase bg-custom-red"},{default:c(()=>[g(f(m.getUserRole?"Buy now":"Login to buy"),1)]),_:1})):(a(),k(u,{key:1},{default:c(()=>[Ee]),_:1}))]),t("div",Ve,[t("div",Ge,[De,t("div",je,[Ae,t("span",null,f(i.gameInfo.rating),1)])]),i.gameInfo.metacritic?(a(),_("div",Be,[Oe,t("div",Le,[Ne,t("span",null,f(i.gameInfo.metacritic),1)])])):V("",!0),t("div",qe,[ze,t("div",Fe,f(i.gameInfo.releaseDate),1)]),t("div",Ue,[He,t("div",$e,f(i.gameInfo.developer.developerName),1)]),t("div",We,[Xe,t("div",Ye,[i.gameInfo.platforms.length!==0?(a(!0),_(G,{key:0},D(i.gameInfo.platforms,s=>(a(),_("img",{class:Y(["inline lg:ml-4 ml-2 rounded p-0.5",s.id==r.chosenPlatform?"dark:bg-slate-50 bg-custom-black":!1]),src:s.platformSVG,alt:s.platformName,onClick:x=>r.chosenPlatform=s.id},null,10,Je))),256)):(a(),_("div",Ke,"__"))])])])])]),t("div",Qe,[w(l,{"add-class":"w-1/3"},{default:c(()=>[Ze]),_:1}),t("div",et,[i.gameInfo.description?(a(),_("p",tt,f(i.gameInfo.description),1)):(a(),_("p",st,"__"))])]),t("div",it,[w(l,{"add-class":"w-1/3"},{default:c(()=>[nt]),_:1}),t("div",ot,[i.gameInfo.genres.length!==0?(a(!0),_(G,{key:0},D(i.gameInfo.genres,s=>(a(),_("div",null,f(s.genreName),1))),256)):(a(),_("div",at,"__"))])]),t("div",lt,[w(l,{"add-class":"w-1/3"},{default:c(()=>[rt]),_:1}),i.gameInfo.minimumSR||i.gameInfo.recommendedSR?(a(),_("div",dt,[i.gameInfo.minimumSR?(a(),_("div",ct,[t("div",null,[mt,t("div",ut,[w(l,{class:"text-lg mb-2 font-normal","add-class":"w-1/3 h-px"},{default:c(()=>[ft]),_:1}),t("p",null,f(i.gameInfo.minimumSR.os),1)]),t("div",_t,[w(l,{class:"text-lg mb-2 font-normal","add-class":"w-1/3 h-px"},{default:c(()=>[ht]),_:1}),t("p",null,f(i.gameInfo.minimumSR.processor),1)]),t("div",pt,[w(l,{class:"text-lg mb-2 font-normal","add-class":"w-1/3 h-px"},{default:c(()=>[wt]),_:1}),t("p",null,f(i.gameInfo.minimumSR.memory),1)]),t("div",gt,[w(l,{class:"text-lg mb-2 font-normal","add-class":"w-1/3 h-px"},{default:c(()=>[vt]),_:1}),t("p",null,f(i.gameInfo.minimumSR.storage),1)]),t("div",xt,[w(l,{class:"text-lg mb-2 font-normal","add-class":"w-1/3 h-px"},{default:c(()=>[bt]),_:1}),t("p",null,f(i.gameInfo.minimumSR.graphics),1)])])])):V("",!0),i.gameInfo.recommendedSR?(a(),_("div",yt,[t("div",null,[It,t("div",St,[w(l,{class:"text-lg mb-2 font-normal","add-class":"w-1/3 h-px"},{default:c(()=>[Tt]),_:1}),t("p",null,f(i.gameInfo.recommendedSR.os),1)]),t("div",Rt,[w(l,{class:"text-lg mb-2 font-normal","add-class":"w-1/3 h-px"},{default:c(()=>[Ct]),_:1}),t("p",null,f(i.gameInfo.recommendedSR.processor),1)]),t("div",Pt,[w(l,{class:"text-lg mb-2 font-normal","add-class":"w-1/3 h-px"},{default:c(()=>[Mt]),_:1}),t("p",null,f(i.gameInfo.recommendedSR.memory),1)]),t("div",kt,[w(l,{class:"text-lg mb-2 font-normal","add-class":"w-1/3 h-px"},{default:c(()=>[Et]),_:1}),t("p",null,f(i.gameInfo.recommendedSR.storage),1)]),t("div",Vt,[w(l,{class:"text-lg mb-2 font-normal","add-class":"w-1/3 h-px"},{default:c(()=>[Gt]),_:1}),t("p",null,f(i.gameInfo.recommendedSR.graphics),1)])])])):V("",!0)])):(a(),_("div",Dt,At))]),t("div",Bt,[w(l,{"add-class":"w-1/3"},{default:c(()=>[Ot]),_:1}),i.gameInfo.reviews.length!=0?(a(),k(n,{key:0,"reviews-data":i.gameInfo.reviews},null,8,["reviews-data"])):(a(),_("div",Lt,qt))]),t("div",null,[w(l,{"add-class":"w-1/3"},{default:c(()=>[zt]),_:1}),t("div",Ft,[t("div",Ut,[Ht,t("div",$t,[t("button",{onClick:e[1]||(e[1]=s=>r.userGameRating>1?r.userGameRating-=1:!1)},Xt),t("h1",Yt,f(r.userGameRating),1),t("button",{onClick:e[2]||(e[2]=s=>r.userGameRating<10?r.userGameRating+=1:!1)},Kt)])]),t("form",{onSubmit:e[4]||(e[4]=J(s=>m.$emit("postReviewEmit",{reviewContent:r.reviewContent,gameRating:r.userGameRating,gameId:i.gameInfo.id}),["prevent"]))},[t("div",Qt,[K(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=s=>r.reviewContent=s),class:"w-full sm:h-56 h-36 text-lg text-custom-black p-2 rounded focus:outline-none focus:ring-custom-red focus:ring-2 inner_shadow_custom",placeholder:"Type here..."},null,512),[[Q,r.reviewContent]])]),t("div",Zt,[w(u,{type:"submit",class:"w-fit text-white bg-custom-red uppercase sm:px-12 px-16"},{default:c(()=>[es]),_:1})])],32)])])])}var ss=j(ye,[["render",ts]]);const is={name:"GameInfoView",components:{GameInfo:ss},data(){return{game:null}},computed:H("isLoadingModule",["getLoadingStatus"]),methods:{async getGameInfo(){try{this.game=(await this.$API.mainServices.getGameInfo(this.$route.params.title)).data}catch(m){this.$store.commit("alertInfoModule/updateError",m)}},async addToCart(m){try{const{message:e}=(await this.$API.userServices.addToCart(m.gameId,{platform:m.chosenPlatform})).data;this.$store.commit("alertInfoModule/updateAlert",e),this.$router.push({name:"shoppingCart"})}catch(e){this.$store.commit("alertInfoModule/updateError",e)}},async postReview(m){try{const e={reviewContent:m.reviewContent,gameRating:m.gameRating},{message:i}=(await this.$API.userServices.postReview(m.gameId,e)).data;await this.getGameInfo(),this.$store.commit("alertInfoModule/updateAlert",i)}catch(e){this.$store.commit("alertInfoModule/updateError",e)}}},async mounted(){await this.getGameInfo()}},ns={key:0},os={key:1,class:"flex justify-center m-5"},as=t("img",{src:te,class:"animate-spin",alt:"spinner"},null,-1),ls=[as];function rs(m,e,i,y,r,I){const l=P("GameInfo");return m.getLoadingStatus?(a(),_("div",os,ls)):(a(),_("div",ns,[r.game?(a(),k(l,{key:0,"game-info":r.game,onAddToCartEmit:I.addToCart,onPostReviewEmit:I.postReview},null,8,["game-info","onAddToCartEmit","onPostReviewEmit"])):V("",!0)]))}var ms=j(is,[["render",rs]]);export{ms as default};
