var $=Object.defineProperty;var h=Object.getOwnPropertySymbols;var L=Object.prototype.hasOwnProperty,U=Object.prototype.propertyIsEnumerable;var f=(s,e,t)=>e in s?$(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,m=(s,e)=>{for(var t in e||(e={}))L.call(e,t)&&f(s,t,e[t]);if(h)for(var t of h(e))U.call(e,t)&&f(s,t,e[t]);return s};import{_ as x,r as d,o as c,a as p,e as o,C as D,d as a,w as g,f as _,K as M,m as w,h as I}from"./index.1057278b.js";const k={emits:["logInUserData"],data(){return{userData:{userEmail:null,userPassword:null}}},methods:{getUserData(){this.$emit("logInUserData",this.userData),this.userData={userEmail:null,userPassword:null}}}},b={class:"flex md:flex-row flex-col-reverse rounded overflow-hidden justify-between custom_shadow_out md:w-4/5 lg:h-[30rem] p-2"},E={class:"md:w-1/2 w-full p-10 flex flex-col justify-center"},C=o("h1",{class:"text-3xl text-center mb-5 font-bold"},"Log in",-1),S={class:"flex flex-col text-black"},j={class:"mt-1"},P=_("New user ? "),B={class:"text-custom-red hover:opacity-90 duration-100 ml-2"},V=_("Sign Up"),N={class:"mt-5 flex justify-center"},R=_("Sign Up"),T=o("div",{class:"md:w-1/2 w-full h-60 sm:h-auto"},[o("img",{class:"w-full h-full rounded object-cover object-left",src:M,alt:"login_image"})],-1);function q(s,e,t,i,n,l){const u=d("FormInput"),v=d("RouterLink"),y=d("CustomBtn");return c(),p("div",b,[o("div",E,[C,o("form",{onSubmit:e[2]||(e[2]=D((...r)=>l.getUserData&&l.getUserData(...r),["prevent"]))},[o("div",S,[a(u,{class:"my-1.5",required:!0,min:10,max:50,"input-name":"Your Email","input-type":"email","input-id":"user_email","input-img":"email.svg","input-placeholder":"name@mail.com",inputModel:n.userData.userEmail,"onUpdate:inputModel":e[0]||(e[0]=r=>n.userData.userEmail=r)},null,8,["input-img","input-placeholder","inputModel"]),a(u,{class:"my-1.5",required:!0,min:8,max:50,"input-name":"Your Password","input-type":"password","input-id":"user_password","input-img":"password.svg","input-placeholder":"8 to 50 characters long",inputModel:n.userData.userPassword,"onUpdate:inputModel":e[1]||(e[1]=r=>n.userData.userPassword=r)},null,8,["input-img","inputModel"])]),o("div",null,[o("p",j,[P,o("span",B,[a(v,{to:{name:"registration"}},{default:g(()=>[V]),_:1})])])]),o("div",N,[a(y,{class:"min-w-[65%]",type:"submit"},{default:g(()=>[R]),_:1})])],32)]),T])}var A=x(k,[["render",q]]);const F={name:"UserLoginView",components:{LoginComponent:A},computed:m(m({},w("authModule",["getUserToken"])),w("isLoadingModule",["getLoadingStatus"])),methods:{async userLogin(s){try{const{message:e,token:t,role:i}=(await this.$API.authServices.userLogin(s)).data;localStorage.setItem("userRole",i),localStorage.setItem("userToken",t),this.$store.commit("authModule/updateUserRole",i),this.$store.commit("authModule/updateUserToken",t),this.$store.commit("alertInfoModule/updateAlert",e),this.$router.push({name:"home"})}catch(e){this.$store.commit("alertInfoModule/updateError",e)}}},mounted(){this.$route.query.verifyEmail=="true"&&this.$store.commit("alertInfoModule/updateAlert","Email has been verified")}},Y={key:0,class:"flex justify-center"},G={key:1,class:"flex justify-center m-5"},K=o("img",{src:I,class:"animate-spin",alt:"spinner"},null,-1),z=[K];function H(s,e,t,i,n,l){const u=d("LoginComponent");return s.getLoadingStatus?(c(),p("div",G,z)):(c(),p("div",Y,[a(u,{onLogInUserData:l.userLogin},null,8,["onLogInUserData"])]))}var Q=x(F,[["render",H]]);export{Q as default};
