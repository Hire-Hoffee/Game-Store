# Game Muffin: интернет-магазин видеоигр

Game Muffin - это веб-приложение, представляющее собой интернет-магазин видеоигр. Проект построен по архитектуре клиент-сервер, где frontend отвечает за отображение информации и взаимодействие с пользователем, а backend предоставляет API для доступа к данным и обработки бизнес-логики.

#### Ссылка на сайт [GameMuffin](http://petgamemuffin.freemyip.com).

#### Дизайн сайта в Figma - [ссылка](https://www.figma.com/file/h8FgSc2vhMSTlUnSUqAafQ/Game-store?node-id=0%3A1).

<br>
<div style="text-align:center">
  <img src="https://i.imgur.com/aTb2t3M.jpg" width="1000"/>
</div>
<br>

## Функционал сайта

На данном сайте вы можете **"покупать"**, **писать отзывы**, **оценивать** игры. После **"покупки"**, добавленные в корзину игры отправляются на почту, указанную при регистрации. Так же на сайте реализован **поиск** и **фильтр** по играм.

<div style="text-align:center">
  <img src="https://i.imgur.com/13N8zjw.jpg" width="550"/>
  <img src="https://i.imgur.com/MQV6GzU.jpg" width="550"/>
  <img src="https://i.imgur.com/zOSbmr4.jpg" width="550"/>
</div>
<br>
<br>

### Технологии:

**Frontend:**
Vue.js, Vue Router, Tailwind CSS, Swiper.js, Axios

**Backend:**
Node.js, Express.js, Sequelize, JWT, Nodemailer, bcrypt, dotenv, axios

### Принцип работы:

1. **Загрузка frontend-части**: Пользователь открывает приложение в браузере. Фронтенд, созданный с помощью Vue.js, загружается и отображает начальную страницу.
2. **Маршрутизация**: Vue Router обрабатывает переходы пользователя между разделами приложения, динамически загружая и отображая соответствующие компоненты Vue.
3. **Взаимодействие с backend-ом**: Для получения и обновления данных, frontend отправляет HTTP-запросы к backend API, используя Axios.
4. **Обработка запросов на backend**: Express.js обрабатывает входящие запросы, определяя соответствующий контроллер и вызывая его метод.
5. **Бизнес-логика**: В контроллере вызывается соответствующий сервис, который содержит бизнес-логику, необходимую для обработки запроса.
6. **Взаимодействие с базой данных**: Сервис взаимодействует с базой данных PostgreSQL через Sequelize, выполняя необходимые операции: чтение, запись, обновление или удаление данных.
7. **Ответ от backend**: Backend отправляет ответ фронтенду в формате JSON, содержащий данные или информацию об ошибке.
8. **Обновление frontend**: Frontend обрабатывает полученный ответ, обновляя состояние приложения с помощью Vuex, изменяя отображение компонентов и отображая пользователю актуальную информацию.
9. **Аутентификация**: Для защищенных действий, таких как покупка игр или оставление отзывов, frontend использует JWT для аутентификации пользователя. Backend верифицирует токен, проверяя права доступа пользователя.
10. **Email-уведомления**: Backend использует Nodemailer для отправки email-уведомлений пользователям, например, для подтверждения регистрации или отправки информации о заказе.

**Дополнительные возможности:**

- **Внешний API**: Backend использует внешний игровой API RAWG для получения дополнительной информации об играх, например, рейтингов Metacritic и скриншотов.
- **Фильтрация и поиск**: Frontend предоставляет возможность фильтрации игр по различным параметрам: цена, жанр, платформа. Backend обрабатывает запросы с фильтрами, возвращая соответствующие результаты.
- **Пагинация**: Frontend реализует пагинацию для отображения больших списков игр, разбивая их на страницы. Backend обрабатывает запросы на получение данных для конкретной страницы.
- **Обработка ошибок**: Backend предоставляет информативные сообщения об ошибках в формате JSON, которые frontend отображает пользователю.

**Сайт является адаптивным и доступен для комфортного просмотра на устройствах с разными размерами экранов. Также присутствует смена темы сайта.**

<div style="text-align:center">
  <img src="https://i.imgur.com/7YsO1pp.jpg" width="400"/>
  <img src="https://i.imgur.com/x54Ta0X.jpg" width="1000"/>
</div>
<br>
<br>

## Запуск приложения

- клонируйте репозиторий при помощи `git clone`.
- установите зависимости `npm init` в папках `/server` и `/client`.
- для запуска клиента и сервера отдельно используется команда `npm start` в одноименных папках, либо запуск только сервера, с клиентом в виде статических файлов после команды `npm run build` в папке `client` и `npm start` в папке `server`.

Также вам понадобится подключится к БД и следующие переменные окружения:

- PORT
- Для работы CORS - VUE_API_URL
- Подключение к БД - DB_HOST DB_PORT DB_DIALECT DB_NAME DB_USER DB_PASSWORD
- Для работы JWT - SECRET_REFRESH SECRET_ACCESS
- Для работы RAWG API - RAWG_API_KEY
- Для работы Nodemailer - EMAIL_HOST EMAIL_PORT EMAIL_USER EMAIL_PAS
